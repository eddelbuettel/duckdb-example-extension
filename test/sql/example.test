# name: test/sql/example.test
# description: test example extension
# group: [sql]

# Before we load the extension, this will fail
statement error
SELECT example('Sam');
----
Catalog Error: Scalar Function with name example does not exist!

# Require statement will ensure this test is run with this extension loaded
require example

# Confirm the extension works
query I
SELECT example('Sam');
----
Example Sam üê•

query I
SELECT example_openssl_version('Michael') ILIKE 'Example Michael, my linked OpenSSL version is OpenSSL%';
----
true

# check table_function
statement ok
SELECT * FROM example_table_function(42);

# this added tabs between columns
query IIIII
SELECT * FROM example_table_function(42);
----
42	43	44	45.0	46.0
47	48	49	50.0	51.0
52	53	54	55.0	56.0

# this avoids the tabs
query I
select list_value(col_1, col_2, col_3, col_4, col_5) as val from (select * from example_table_function(42))
----
[42.0, 43.0, 44.0, 45.0, 46.0]
[47.0, 48.0, 49.0, 50.0, 51.0]
[52.0, 53.0, 54.0, 55.0, 56.0]


